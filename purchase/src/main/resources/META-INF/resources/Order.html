<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Order Board</title>
    <link rel="stylesheet" type="text/css" href="./styles.css" />
  </head>
  <body>
    <div class="container">
      <div class="card">
<!--        <div class="card-body">-->
          <h2 class="card-title">Order Board</h2>
          <button class="btn" onclick="createPurchase()">
            Create Purchase
          </button>
          <ul id="list"></ul>
        </div>
<!--      </div>-->
    </div>

    <script>
      function createPurchase() {
        fetch('/purchase', { method: 'POST' })
          .then((response) => response.json())
          .then((data) => {
            console.log('Purchase created:', data);
          })
          .catch((error) => {
            console.error('Error creating purchase:', error);
          });
      }

      var source = new EventSource('/purchase/order-response');
      source.onmessage = (event) => {
        const newElement = document.createElement('li');
        const eventList = document.getElementById('list');

        newElement.textContent = `Message: ${event.data}`;
        eventList.appendChild(newElement);
      };
    </script>
  </body>
</html>
